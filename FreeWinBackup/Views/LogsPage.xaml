<Page x:Class="FreeWinBackup.Views.LogsPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:vm="clr-namespace:FreeWinBackup.ViewModels"
      Title="LogsPage">
    <Page.DataContext>
        <vm:LogsViewModel />
    </Page.DataContext>

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <DataGrid Grid.Row="0" ItemsSource="{Binding Logs}" 
                  SelectedItem="{Binding SelectedLog}" Margin="5">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Timestamp" Binding="{Binding Timestamp, StringFormat=yyyy-MM-dd HH:mm:ss}" Width="150"/>
                <DataGridTextColumn Header="Schedule" Binding="{Binding ScheduleName}" Width="150"/>
                <DataGridTextColumn Header="Level" Binding="{Binding Level}" Width="80"/>
                <DataGridTextColumn Header="Message" Binding="{Binding Message}" Width="*"/>
                <DataGridTextColumn Header="Files" Binding="{Binding FilesCount}" Width="60"/>
                <DataGridTextColumn Header="Duration" Binding="{Binding Duration, StringFormat=hh\\:mm\\:ss}" Width="80"/>
            </DataGrid.Columns>
        </DataGrid>

        <TextBlock Grid.Row="1" Margin="10" FontStyle="Italic" Foreground="Gray">
            Showing backup execution logs. Double-click a row for more details.
        </TextBlock>
    </Grid>
</Page>
